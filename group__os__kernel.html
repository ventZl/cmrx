<!-- HTML header for doxygen 1.9.7-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>C Microkernel Realtime eXecutive: Kernel core</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="stylesheet.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="all">
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">C Microkernel Realtime eXecutive
   </div>
   <div id="projectbrief">Realtime Operating System for Cortex-M based microcontrollers</div>
  </td>
    <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('group__os__kernel.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#enumval-members">Enumerator</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">Kernel core<div class="ingroups"><a class="el" href="group__os.html">Kernel documentation</a></div></div></div>
</div><!--header-->
<div class="contents">

<p>Kernel is built around minimalistic core, which consists of prioritized thread scheduler.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structOS__thread__t.html">OS_thread_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Thread control block.  <a href="structOS__thread__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structOS__stack__t.html">OS_stack_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Kernel structure for maintaining thread stacks.  <a href="structOS__stack__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structOS__MPU__region.html">OS_MPU_region</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">MPU region description.  <a href="structOS__MPU__region.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structOS__process__definition__t.html">OS_process_definition_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Static definition of process in firmware image.  <a href="structOS__process__definition__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structOS__process__t.html">OS_process_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Process control block.  <a href="structOS__process__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structOS__thread__create__t.html">OS_thread_create_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Structure describing auto-spawned thread.  <a href="structOS__thread__create__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structOS__core__state__t.html">OS_core_state_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Structure holding current scheduling state of CPU.  <a href="structOS__core__state__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ga5ed1a3a4c42bd97febc5e1dab288a0f5" id="r_ga5ed1a3a4c42bd97febc5e1dab288a0f5"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__os__kernel.html#ga5ed1a3a4c42bd97febc5e1dab288a0f5">OS_TASK_NO_STACK</a>&#160;&#160;&#160;(~0)</td></tr>
<tr class="separator:ga5ed1a3a4c42bd97febc5e1dab288a0f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacb3141cb0632564896b1cd9cc0a32f06" id="r_gacb3141cb0632564896b1cd9cc0a32f06"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__os__kernel.html#gacb3141cb0632564896b1cd9cc0a32f06">OS_STACK_DWORD</a>&#160;&#160;&#160;(<a class="el" href="group__os__config.html#ga9fdcaeee2ac8d68ac5fbbcd450fd08da">OS_STACK_SIZE</a>/4)</td></tr>
<tr class="separator:gacb3141cb0632564896b1cd9cc0a32f06"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="typedef-members" name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ga1bfa33feba4b1822dc64875964b011c4" id="r_ga1bfa33feba4b1822dc64875964b011c4"><td class="memItemLeft" align="right" valign="top">typedef int()&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__os__kernel.html#ga1bfa33feba4b1822dc64875964b011c4">entrypoint_t</a>(void *)</td></tr>
<tr class="memdesc:ga1bfa33feba4b1822dc64875964b011c4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prototype for thread entrypoint function.  <br /></td></tr>
<tr class="separator:ga1bfa33feba4b1822dc64875964b011c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga59b9ffdaff162b7deb5f6d34348513d9" id="r_ga59b9ffdaff162b7deb5f6d34348513d9"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="group__api.html#ga36958e2082eecb09f367fa4aa3a9a84d">Process_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__os__kernel.html#ga59b9ffdaff162b7deb5f6d34348513d9">OS_RPC_stack</a>[8]</td></tr>
<tr class="memdesc:ga59b9ffdaff162b7deb5f6d34348513d9"><td class="mdescLeft">&#160;</td><td class="mdescRight">RPC call owner process stack.  <br /></td></tr>
<tr class="separator:ga59b9ffdaff162b7deb5f6d34348513d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga680eadb82b6578f258791cef85501af2" id="r_ga680eadb82b6578f258791cef85501af2"><td class="memItemLeft" align="right" valign="top">typedef int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__os__kernel.html#ga680eadb82b6578f258791cef85501af2">Event_t</a></td></tr>
<tr class="memdesc:ga680eadb82b6578f258791cef85501af2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Type to carry event being notified.  <br /></td></tr>
<tr class="separator:ga680eadb82b6578f258791cef85501af2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga86c1d9def4919aa07143abede7baa08e" id="r_ga86c1d9def4919aa07143abede7baa08e"><td class="memItemLeft" align="right" valign="top">typedef void()&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__os__kernel.html#ga86c1d9def4919aa07143abede7baa08e">WaitHandler_t</a>(const void *, <a class="el" href="group__api.html#gaae12e635a9412afabedb95620d3e2ffe">Thread_t</a>, <a class="el" href="group__os__kernel.html#ga680eadb82b6578f258791cef85501af2">Event_t</a>)</td></tr>
<tr class="memdesc:ga86c1d9def4919aa07143abede7baa08e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prototype for function that handles thread wakeup on notification.  <br /></td></tr>
<tr class="separator:ga86c1d9def4919aa07143abede7baa08e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac01e3878510de719773a39e4333a84f4" id="r_gac01e3878510de719773a39e4333a84f4"><td class="memItemLeft" align="right" valign="top">typedef uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__os__kernel.html#gac01e3878510de719773a39e4333a84f4">Txn_t</a></td></tr>
<tr class="separator:gac01e3878510de719773a39e4333a84f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="enum-members" name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:gab3804a8a4369184ad46dadf8e54957b6" id="r_gab3804a8a4369184ad46dadf8e54957b6"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__os__kernel.html#gab3804a8a4369184ad46dadf8e54957b6">ThreadState</a> { <br />
&#160;&#160;<a class="el" href="group__os__kernel.html#ggab3804a8a4369184ad46dadf8e54957b6a7fa9cec9c302fe0bfbf03b37a6abc480">THREAD_STATE_EMPTY</a> = 0
, <a class="el" href="group__os__kernel.html#ggab3804a8a4369184ad46dadf8e54957b6a327b504fcea41a280d9c9d25a530321d">THREAD_STATE_READY</a>
, <a class="el" href="group__os__kernel.html#ggab3804a8a4369184ad46dadf8e54957b6a6dff8b555ffb582bb3d30a240c9b83e3">THREAD_STATE_RUNNING</a>
, <a class="el" href="group__os__kernel.html#ggab3804a8a4369184ad46dadf8e54957b6afb57d1df9b82dc0b35626e572b83a089">THREAD_STATE_CREATED</a>
, <br />
&#160;&#160;<a class="el" href="group__os__kernel.html#ggab3804a8a4369184ad46dadf8e54957b6a7ea6bd2fc98784fd8806ec9202bf7bdf">THREAD_STATE_STOPPED</a>
, <a class="el" href="group__os__kernel.html#ggab3804a8a4369184ad46dadf8e54957b6aa5dd4d3db3f6d15f233196115c6e6a96">THREAD_STATE_FINISHED</a>
, <a class="el" href="group__os__kernel.html#ggab3804a8a4369184ad46dadf8e54957b6ac754775b8c91b7fa7de29fd8eb731bbf">THREAD_STATE_WAITING</a>
, <a class="el" href="group__os__kernel.html#ggab3804a8a4369184ad46dadf8e54957b6a3ed23db49766dcb93d5887f8dc613c4b">THREAD_STATE_MIGRATING</a>
<br />
 }</td></tr>
<tr class="memdesc:gab3804a8a4369184ad46dadf8e54957b6"><td class="mdescLeft">&#160;</td><td class="mdescRight">List of states in which thread can be.  <a href="group__os__kernel.html#gab3804a8a4369184ad46dadf8e54957b6">More...</a><br /></td></tr>
<tr class="separator:gab3804a8a4369184ad46dadf8e54957b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga171384e518db04097e0f3e6750129a2a" id="r_ga171384e518db04097e0f3e6750129a2a"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__os__kernel.html#ga171384e518db04097e0f3e6750129a2a">TxnType</a> { <a class="el" href="group__os__kernel.html#gga171384e518db04097e0f3e6750129a2aa6a3bd46a641c9be6b1495c66c69a115f">TXN_READONLY</a>
, <a class="el" href="group__os__kernel.html#gga171384e518db04097e0f3e6750129a2aaf9d6521627af7fdb507be74adbbade50">TXN_READWRITE</a>
 }</td></tr>
<tr class="memdesc:ga171384e518db04097e0f3e6750129a2a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Type of the transaction performed.  <a href="group__os__kernel.html#ga171384e518db04097e0f3e6750129a2a">More...</a><br /></td></tr>
<tr class="separator:ga171384e518db04097e0f3e6750129a2a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga6835c2c092a489fb9a24dce9e2b4c3ac" id="r_ga6835c2c092a489fb9a24dce9e2b4c3ac"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__os__kernel.html#gac01e3878510de719773a39e4333a84f4">Txn_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__os__kernel.html#ga6835c2c092a489fb9a24dce9e2b4c3ac">os_txn_start</a> ()</td></tr>
<tr class="memdesc:ga6835c2c092a489fb9a24dce9e2b4c3ac"><td class="mdescLeft">&#160;</td><td class="mdescRight">Start a transaction.  <br /></td></tr>
<tr class="separator:ga6835c2c092a489fb9a24dce9e2b4c3ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacbfa20536e7c7fc317d57022ee00d471" id="r_gacbfa20536e7c7fc317d57022ee00d471"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__os__kernel.html#gacbfa20536e7c7fc317d57022ee00d471">os_txn_commit</a> (<a class="el" href="group__os__kernel.html#gac01e3878510de719773a39e4333a84f4">Txn_t</a> transaction, enum <a class="el" href="group__os__kernel.html#ga171384e518db04097e0f3e6750129a2a">TxnType</a> type)</td></tr>
<tr class="memdesc:gacbfa20536e7c7fc317d57022ee00d471"><td class="mdescLeft">&#160;</td><td class="mdescRight">Try to commit the transaction.  <br /></td></tr>
<tr class="separator:gacbfa20536e7c7fc317d57022ee00d471"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf10efb77e984671b520a403ede9ce8c2" id="r_gaf10efb77e984671b520a403ede9ce8c2"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__os__kernel.html#gaf10efb77e984671b520a403ede9ce8c2">os_txn_start_commit</a> ()</td></tr>
<tr class="memdesc:gaf10efb77e984671b520a403ede9ce8c2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Start new transaction and commit it immediately.  <br /></td></tr>
<tr class="separator:gaf10efb77e984671b520a403ede9ce8c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1d718af22b206b311f22c214bda9387a" id="r_ga1d718af22b206b311f22c214bda9387a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__os__kernel.html#ga1d718af22b206b311f22c214bda9387a">os_txn_done</a> ()</td></tr>
<tr class="memdesc:ga1d718af22b206b311f22c214bda9387a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Finish the transaction commit.  <br /></td></tr>
<tr class="separator:ga1d718af22b206b311f22c214bda9387a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ga5bcb4dcf2afcf71f716d8dc85b18134d" id="r_ga5bcb4dcf2afcf71f716d8dc85b18134d"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structOS__thread__t.html">OS_thread_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__os__kernel.html#ga5bcb4dcf2afcf71f716d8dc85b18134d">os_threads</a> [<a class="el" href="group__os__config.html#ga1383e9a762dc5563440cf1623542667d">OS_THREADS</a>]</td></tr>
<tr class="memdesc:ga5bcb4dcf2afcf71f716d8dc85b18134d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Scheduler notion on existing threads.  <br /></td></tr>
<tr class="separator:ga5bcb4dcf2afcf71f716d8dc85b18134d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga92c7c87a5b690240597294d232980842" id="r_ga92c7c87a5b690240597294d232980842"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structOS__process__t.html">OS_process_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__os__kernel.html#ga92c7c87a5b690240597294d232980842">os_processes</a> [<a class="el" href="group__os__config.html#gacac8dbdebb899857ee307d8c8d917392">OS_PROCESSES</a>]</td></tr>
<tr class="memdesc:ga92c7c87a5b690240597294d232980842"><td class="mdescLeft">&#160;</td><td class="mdescRight">Scheduler notion on existing processes.  <br /></td></tr>
<tr class="separator:ga92c7c87a5b690240597294d232980842"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaea74e023a260529e36ff7609c8a53555" id="r_gaea74e023a260529e36ff7609c8a53555"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structOS__stack__t.html">OS_stack_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__os__kernel.html#gaea74e023a260529e36ff7609c8a53555">os_stacks</a></td></tr>
<tr class="memdesc:gaea74e023a260529e36ff7609c8a53555"><td class="mdescLeft">&#160;</td><td class="mdescRight">Scheduler notion on existing stacks.  <br /></td></tr>
<tr class="separator:gaea74e023a260529e36ff7609c8a53555"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Kernel is built around minimalistic core, which consists of prioritized thread scheduler. </p>
<p>Scheduler can be started up after basic HW setup is done by calling <a class="el" href="group__os.html#ga1e67d0545de716571a189e81ae619f37">os_start()</a>. This will collect all auto-started threads, prepare them and start thread scheduler. All other mechanisms are built around thread scheduler. </p>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="gacb3141cb0632564896b1cd9cc0a32f06" name="gacb3141cb0632564896b1cd9cc0a32f06"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gacb3141cb0632564896b1cd9cc0a32f06">&#9670;&#160;</a></span>OS_STACK_DWORD</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OS_STACK_DWORD&#160;&#160;&#160;(<a class="el" href="group__os__config.html#ga9fdcaeee2ac8d68ac5fbbcd450fd08da">OS_STACK_SIZE</a>/4)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ga5ed1a3a4c42bd97febc5e1dab288a0f5" name="ga5ed1a3a4c42bd97febc5e1dab288a0f5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5ed1a3a4c42bd97febc5e1dab288a0f5">&#9670;&#160;</a></span>OS_TASK_NO_STACK</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OS_TASK_NO_STACK&#160;&#160;&#160;(~0)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="ga1bfa33feba4b1822dc64875964b011c4" name="ga1bfa33feba4b1822dc64875964b011c4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1bfa33feba4b1822dc64875964b011c4">&#9670;&#160;</a></span>entrypoint_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef int() entrypoint_t(void *)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Prototype for thread entrypoint function. </p>
<p>Thread entrypoint function takes one user-defined argument. By default it is assumed that this is a pointer to user data, but there is no checking performed on the value passed to the callee. It can be anything, once properly typecasted. Thread entrypoint can return signed 32bit value as it's return value. This is available for whoever will call <a class="el" href="group__api__thread.html#gafecb0503475d000bb26f547db0f54936">thread_join()</a> as thread exit status. </p>

</div>
</div>
<a id="ga680eadb82b6578f258791cef85501af2" name="ga680eadb82b6578f258791cef85501af2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga680eadb82b6578f258791cef85501af2">&#9670;&#160;</a></span>Event_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef int <a class="el" href="group__os__kernel.html#ga680eadb82b6578f258791cef85501af2">Event_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Type to carry event being notified. </p>
<p>Event signals what exactly happened to the object being notified. See <a class="el" href="group__os__notify.html#ga914d2da0ec9f0e22cd5e400bc1f968b8">EventTypes</a> for the list of events. </p>

</div>
</div>
<a id="ga59b9ffdaff162b7deb5f6d34348513d9" name="ga59b9ffdaff162b7deb5f6d34348513d9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga59b9ffdaff162b7deb5f6d34348513d9">&#9670;&#160;</a></span>OS_RPC_stack</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="group__api.html#ga36958e2082eecb09f367fa4aa3a9a84d">Process_t</a> OS_RPC_stack[8]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>RPC call owner process stack. </p>
<p>This stack records owners of nested RPC calls. It can accomodate up to 8 owners which means 8 nested RPC calls. </p>

</div>
</div>
<a id="gac01e3878510de719773a39e4333a84f4" name="gac01e3878510de719773a39e4333a84f4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac01e3878510de719773a39e4333a84f4">&#9670;&#160;</a></span>Txn_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef uint8_t <a class="el" href="group__os__kernel.html#gac01e3878510de719773a39e4333a84f4">Txn_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ga86c1d9def4919aa07143abede7baa08e" name="ga86c1d9def4919aa07143abede7baa08e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga86c1d9def4919aa07143abede7baa08e">&#9670;&#160;</a></span>WaitHandler_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void() WaitHandler_t(const void *, <a class="el" href="group__api.html#gaae12e635a9412afabedb95620d3e2ffe">Thread_t</a>, <a class="el" href="group__os__kernel.html#ga680eadb82b6578f258791cef85501af2">Event_t</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Prototype for function that handles thread wakeup on notification. </p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="gab3804a8a4369184ad46dadf8e54957b6" name="gab3804a8a4369184ad46dadf8e54957b6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab3804a8a4369184ad46dadf8e54957b6">&#9670;&#160;</a></span>ThreadState</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__os__kernel.html#gab3804a8a4369184ad46dadf8e54957b6">ThreadState</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>List of states in which thread can be. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="ggab3804a8a4369184ad46dadf8e54957b6a7fa9cec9c302fe0bfbf03b37a6abc480" name="ggab3804a8a4369184ad46dadf8e54957b6a7fa9cec9c302fe0bfbf03b37a6abc480"></a>THREAD_STATE_EMPTY&#160;</td><td class="fielddoc"><p>This thread slot is empty (default after reset) </p>
</td></tr>
<tr><td class="fieldname"><a id="ggab3804a8a4369184ad46dadf8e54957b6a327b504fcea41a280d9c9d25a530321d" name="ggab3804a8a4369184ad46dadf8e54957b6a327b504fcea41a280d9c9d25a530321d"></a>THREAD_STATE_READY&#160;</td><td class="fielddoc"><p>Thread is ready to be scheduled. </p>
</td></tr>
<tr><td class="fieldname"><a id="ggab3804a8a4369184ad46dadf8e54957b6a6dff8b555ffb582bb3d30a240c9b83e3" name="ggab3804a8a4369184ad46dadf8e54957b6a6dff8b555ffb582bb3d30a240c9b83e3"></a>THREAD_STATE_RUNNING&#160;</td><td class="fielddoc"><p>Thread is currently running. </p>
</td></tr>
<tr><td class="fieldname"><a id="ggab3804a8a4369184ad46dadf8e54957b6afb57d1df9b82dc0b35626e572b83a089" name="ggab3804a8a4369184ad46dadf8e54957b6afb57d1df9b82dc0b35626e572b83a089"></a>THREAD_STATE_CREATED&#160;</td><td class="fielddoc"><p>Thread was created, but does not have stack assigned. </p>
</td></tr>
<tr><td class="fieldname"><a id="ggab3804a8a4369184ad46dadf8e54957b6a7ea6bd2fc98784fd8806ec9202bf7bdf" name="ggab3804a8a4369184ad46dadf8e54957b6a7ea6bd2fc98784fd8806ec9202bf7bdf"></a>THREAD_STATE_STOPPED&#160;</td><td class="fielddoc"><p>Thread was running, but was forced to stop. </p>
<p>It still has valid state so can't be disposed of without damage. Can be placed into ready/running state by calling thread_continue(). </p>
</td></tr>
<tr><td class="fieldname"><a id="ggab3804a8a4369184ad46dadf8e54957b6aa5dd4d3db3f6d15f233196115c6e6a96" name="ggab3804a8a4369184ad46dadf8e54957b6aa5dd4d3db3f6d15f233196115c6e6a96"></a>THREAD_STATE_FINISHED&#160;</td><td class="fielddoc"><p>Thread finished it's execution either explicitly by calling <a class="el" href="group__api__thread.html#ga189ee445e0ac8bf8fa112a2fa719d9b6">thread_exit()</a> or by returning from thread entrypoint. </p>
<p>Nobody called <a class="el" href="group__api__thread.html#gafecb0503475d000bb26f547db0f54936">thread_join()</a> yet. This state is the same as "zombie" in Linux. </p>
</td></tr>
<tr><td class="fieldname"><a id="ggab3804a8a4369184ad46dadf8e54957b6ac754775b8c91b7fa7de29fd8eb731bbf" name="ggab3804a8a4369184ad46dadf8e54957b6ac754775b8c91b7fa7de29fd8eb731bbf"></a>THREAD_STATE_WAITING&#160;</td><td class="fielddoc"><p>Thread is waitihg for object to be notified. </p>
</td></tr>
<tr><td class="fieldname"><a id="ggab3804a8a4369184ad46dadf8e54957b6a3ed23db49766dcb93d5887f8dc613c4b" name="ggab3804a8a4369184ad46dadf8e54957b6a3ed23db49766dcb93d5887f8dc613c4b"></a>THREAD_STATE_MIGRATING&#160;</td><td class="fielddoc"><p>Thread has been stopped and is ready to migrate over to another core. </p>
</td></tr>
</table>

</div>
</div>
<a id="ga171384e518db04097e0f3e6750129a2a" name="ga171384e518db04097e0f3e6750129a2a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga171384e518db04097e0f3e6750129a2a">&#9670;&#160;</a></span>TxnType</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__os__kernel.html#ga171384e518db04097e0f3e6750129a2a">TxnType</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Type of the transaction performed. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="gga171384e518db04097e0f3e6750129a2aa6a3bd46a641c9be6b1495c66c69a115f" name="gga171384e518db04097e0f3e6750129a2aa6a3bd46a641c9be6b1495c66c69a115f"></a>TXN_READONLY&#160;</td><td class="fielddoc"><p>Read-only transaction. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga171384e518db04097e0f3e6750129a2aaf9d6521627af7fdb507be74adbbade50" name="gga171384e518db04097e0f3e6750129a2aaf9d6521627af7fdb507be74adbbade50"></a>TXN_READWRITE&#160;</td><td class="fielddoc"><p>Read-write transaction. </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="gacbfa20536e7c7fc317d57022ee00d471" name="gacbfa20536e7c7fc317d57022ee00d471"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gacbfa20536e7c7fc317d57022ee00d471">&#9670;&#160;</a></span>os_txn_commit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int os_txn_commit </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__os__kernel.html#gac01e3878510de719773a39e4333a84f4">Txn_t</a>&#160;</td>
          <td class="paramname"><em>transaction</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="group__os__kernel.html#ga171384e518db04097e0f3e6750129a2a">TxnType</a>&#160;</td>
          <td class="paramname"><em>type</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Try to commit the transaction. </p>
<p>This function will try to enter the critical section so that the code running afterwards has exclusive access to the shared resource. If another transaction has been commited meanwhile, then this call will fail as transaction couldn't be commited. Then the critical section is left immediately. If no other transaction conflicted with this one, the code remains in the critical section and can modify the shared context. After the code is done with modifying the shared context, it <em>must</em> call <a class="el" href="group__os__kernel.html#ga1d718af22b206b311f22c214bda9387a">os_txn_done</a> which will leave the critical section. No modification of the shared context is allowed outside of the critical section. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">transaction</td><td>the ID of transaction as obtained by the call to ox_txn_start() </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">type</td><td>the type of transaction </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>E_OK if transaction can be commited </dd>
<dd>
E_INVALID if transaction cannot be applied as different transaction has been commited meanwhile. </dd></dl>

</div>
</div>
<a id="ga1d718af22b206b311f22c214bda9387a" name="ga1d718af22b206b311f22c214bda9387a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1d718af22b206b311f22c214bda9387a">&#9670;&#160;</a></span>os_txn_done()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void os_txn_done </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Finish the transaction commit. </p>
<p>This function will leave the critical section related to the transaction. This function has to be called for read-write transaction after all the data changes in the transaction were commited. </p>

</div>
</div>
<a id="ga6835c2c092a489fb9a24dce9e2b4c3ac" name="ga6835c2c092a489fb9a24dce9e2b4c3ac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6835c2c092a489fb9a24dce9e2b4c3ac">&#9670;&#160;</a></span>os_txn_start()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__os__kernel.html#gac01e3878510de719773a39e4333a84f4">Txn_t</a> os_txn_start </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Start a transaction. </p>
<p>This function will start a transaction. Starting a transaction means that the code will remember actual record version number (active rolling counter value). rolling counters are updated whenever read-write transaction is commited. </p><dl class="section note"><dt>Note</dt><dd>It is perfectly valid to start transaction and not commit it. This effectively equals to voluntarily aborting the transaction. Such abandonned transactions pose no overhead nor stall / corruption risk. </dd></dl>
<dl class="section return"><dt>Returns</dt><dd>transaction ID </dd></dl>

</div>
</div>
<a id="gaf10efb77e984671b520a403ede9ce8c2" name="gaf10efb77e984671b520a403ede9ce8c2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf10efb77e984671b520a403ede9ce8c2">&#9670;&#160;</a></span>os_txn_start_commit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int os_txn_start_commit </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Start new transaction and commit it immediately. </p>
<p>This is a combination of <a class="el" href="group__os__kernel.html#ga6835c2c092a489fb9a24dce9e2b4c3ac">os_txn_start</a> and <a class="el" href="group__os__kernel.html#gacbfa20536e7c7fc317d57022ee00d471">os_txn_commit</a> for special cases where there is no intermediate computation needed. This is for cases, such as freeing memory, releasing handles, etc. In these cases no search for free entry or any similar action has to be done. Just a known-in-advance entry is freed and this change needs to be transacted. It will start new transaction and immediately commit it. As this is done atomically, the commit never fails. This function always returns E_OK, which means that the code is in commit mode, may change shared data and must call <a class="el" href="group__os__kernel.html#ga1d718af22b206b311f22c214bda9387a">os_txn_done</a> when all changes are written. </p><dl class="section return"><dt>Returns</dt><dd>E_OK as this action never fails. </dd></dl>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="ga92c7c87a5b690240597294d232980842" name="ga92c7c87a5b690240597294d232980842"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga92c7c87a5b690240597294d232980842">&#9670;&#160;</a></span>os_processes</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structOS__process__t.html">OS_process_t</a> os_processes[<a class="el" href="group__os__config.html#gacac8dbdebb899857ee307d8c8d917392">OS_PROCESSES</a>]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Scheduler notion on existing processes. </p>
<p>Scheduler notion on existing processes. </p>

</div>
</div>
<a id="gaea74e023a260529e36ff7609c8a53555" name="gaea74e023a260529e36ff7609c8a53555"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaea74e023a260529e36ff7609c8a53555">&#9670;&#160;</a></span>os_stacks</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structOS__stack__t.html">OS_stack_t</a> os_stacks</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Scheduler notion on existing stacks. </p>
<p>Scheduler notion on existing stacks. </p>

</div>
</div>
<a id="ga5bcb4dcf2afcf71f716d8dc85b18134d" name="ga5bcb4dcf2afcf71f716d8dc85b18134d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5bcb4dcf2afcf71f716d8dc85b18134d">&#9670;&#160;</a></span>os_threads</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structOS__thread__t.html">OS_thread_t</a> os_threads[<a class="el" href="group__os__config.html#ga1383e9a762dc5563440cf1623542667d">OS_THREADS</a>]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Scheduler notion on existing threads. </p>
<p>Scheduler notion on existing threads. </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.9.7-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</div>
</body>
</html>
