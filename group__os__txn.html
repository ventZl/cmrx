<!-- HTML header for doxygen 1.9.7-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>C Microkernel Realtime eXecutive: Transcation subsystem</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="stylesheet.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="all">
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">C Microkernel Realtime eXecutive
   </div>
   <div id="projectbrief">Realtime Operating System for Cortex-M based microcontrollers</div>
  </td>
    <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('group__os__txn.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">Transcation subsystem<div class="ingroups"><a class="el" href="group__os.html">Kernel documentation</a></div></div></div>
</div><!--header-->
<div class="contents">

<p>CMRX kernel is mostly implemented as non-blocking.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="typedef-members" name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:gac01e3878510de719773a39e4333a84f4" id="r_gac01e3878510de719773a39e4333a84f4"><td class="memItemLeft" align="right" valign="top">typedef uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__os__txn.html#gac01e3878510de719773a39e4333a84f4">Txn_t</a></td></tr>
<tr class="memdesc:gac01e3878510de719773a39e4333a84f4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Transaction handle type.  <br /></td></tr>
<tr class="separator:gac01e3878510de719773a39e4333a84f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="enum-members" name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:ga171384e518db04097e0f3e6750129a2a" id="r_ga171384e518db04097e0f3e6750129a2a"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__os__txn.html#ga171384e518db04097e0f3e6750129a2a">TxnType</a> { <a class="el" href="group__os__txn.html#gga171384e518db04097e0f3e6750129a2aa6a3bd46a641c9be6b1495c66c69a115f">TXN_READONLY</a>
, <a class="el" href="group__os__txn.html#gga171384e518db04097e0f3e6750129a2aaf9d6521627af7fdb507be74adbbade50">TXN_READWRITE</a>
 }</td></tr>
<tr class="memdesc:ga171384e518db04097e0f3e6750129a2a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Type of the transaction performed.  <a href="group__os__txn.html#ga171384e518db04097e0f3e6750129a2a">More...</a><br /></td></tr>
<tr class="separator:ga171384e518db04097e0f3e6750129a2a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga8416fe8f7bf2e1c73fb3a3c6aabbcf3a" id="r_ga8416fe8f7bf2e1c73fb3a3c6aabbcf3a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__os__txn.html#gac01e3878510de719773a39e4333a84f4">Txn_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__os__txn.html#ga8416fe8f7bf2e1c73fb3a3c6aabbcf3a">os_txn_start</a> (void)</td></tr>
<tr class="memdesc:ga8416fe8f7bf2e1c73fb3a3c6aabbcf3a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Start a transaction.  <br /></td></tr>
<tr class="separator:ga8416fe8f7bf2e1c73fb3a3c6aabbcf3a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacbfa20536e7c7fc317d57022ee00d471" id="r_gacbfa20536e7c7fc317d57022ee00d471"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__os__txn.html#gacbfa20536e7c7fc317d57022ee00d471">os_txn_commit</a> (<a class="el" href="group__os__txn.html#gac01e3878510de719773a39e4333a84f4">Txn_t</a> transaction, enum <a class="el" href="group__os__txn.html#ga171384e518db04097e0f3e6750129a2a">TxnType</a> type)</td></tr>
<tr class="memdesc:gacbfa20536e7c7fc317d57022ee00d471"><td class="mdescLeft">&#160;</td><td class="mdescRight">Try to commit the transaction.  <br /></td></tr>
<tr class="separator:gacbfa20536e7c7fc317d57022ee00d471"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5cb7bbbf62304874468aa30d15bb8f1e" id="r_ga5cb7bbbf62304874468aa30d15bb8f1e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__os__txn.html#ga5cb7bbbf62304874468aa30d15bb8f1e">os_txn_start_commit</a> (void)</td></tr>
<tr class="memdesc:ga5cb7bbbf62304874468aa30d15bb8f1e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Start new transaction and commit it immediately.  <br /></td></tr>
<tr class="separator:ga5cb7bbbf62304874468aa30d15bb8f1e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa354e7db359322579bfccad91f3c2e69" id="r_gaa354e7db359322579bfccad91f3c2e69"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__os__txn.html#gaa354e7db359322579bfccad91f3c2e69">os_txn_done</a> (void)</td></tr>
<tr class="memdesc:gaa354e7db359322579bfccad91f3c2e69"><td class="mdescLeft">&#160;</td><td class="mdescRight">Finish the transaction commit.  <br /></td></tr>
<tr class="separator:gaa354e7db359322579bfccad91f3c2e69"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga850d4412f59410f1e27fe0f1541e807e" id="r_ga850d4412f59410f1e27fe0f1541e807e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__os__txn.html#gac01e3878510de719773a39e4333a84f4">Txn_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__os__txn.html#ga850d4412f59410f1e27fe0f1541e807e">os_sys_txn_start</a> (<a class="el" href="group__os__txn.html#gac01e3878510de719773a39e4333a84f4">Txn_t</a> *domain)</td></tr>
<tr class="memdesc:ga850d4412f59410f1e27fe0f1541e807e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Implementation of txn_start syscall.  <br /></td></tr>
<tr class="separator:ga850d4412f59410f1e27fe0f1541e807e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5a00a4ac7ffcc3e344961b597c5b5fe9" id="r_ga5a00a4ac7ffcc3e344961b597c5b5fe9"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__os__txn.html#ga5a00a4ac7ffcc3e344961b597c5b5fe9">os_sys_txn_commit</a> (<a class="el" href="group__os__txn.html#gac01e3878510de719773a39e4333a84f4">Txn_t</a> *domain, <a class="el" href="group__os__txn.html#gac01e3878510de719773a39e4333a84f4">Txn_t</a> txn, enum <a class="el" href="group__os__txn.html#ga171384e518db04097e0f3e6750129a2a">TxnType</a> type)</td></tr>
<tr class="memdesc:ga5a00a4ac7ffcc3e344961b597c5b5fe9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Implementation of txn_commit syscall.  <br /></td></tr>
<tr class="separator:ga5a00a4ac7ffcc3e344961b597c5b5fe9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>CMRX kernel is mostly implemented as non-blocking. </p>
<p>Where exclusivity is needed, transactions are used in place of mutexes. Transactions provide a means of ensuring that the internal state of program has been consistent thorough the execution of transaction.</p>
<p>CMRX kernel provides two types of transactions:</p><ul>
<li>read-only transactions - these provide guarantee that the internal state of the system did not change while the transaction was computing the result. If any modification to the system state happened during the transaction, an attempt to commit read-only transaction will fail.</li>
<li>read-write transactions - these provide means of gaining exclusive right to modify the system state. When code is ready to perform the modification, it attempts to commit the transaction. If there was no concurrent modification in between this transaction has been created, then commit is granted an code can perform the modification in exclusive state.</li>
</ul>
<p>This approach trades better SMP capabilities and less contention for a bit of complexity on the user side. Any code that uses transactions has to define what will happen if transaction commit fails.</p>
<p>For most use cases the way to deal with transaction commit failure is to redo the action but some of them may figure out that the action is not needed anymore. </p>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="gac01e3878510de719773a39e4333a84f4" name="gac01e3878510de719773a39e4333a84f4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac01e3878510de719773a39e4333a84f4">&#9670;&#160;</a></span>Txn_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef uint8_t <a class="el" href="group__os__txn.html#gac01e3878510de719773a39e4333a84f4">Txn_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Transaction handle type. </p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="ga171384e518db04097e0f3e6750129a2a" name="ga171384e518db04097e0f3e6750129a2a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga171384e518db04097e0f3e6750129a2a">&#9670;&#160;</a></span>TxnType</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__os__txn.html#ga171384e518db04097e0f3e6750129a2a">TxnType</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Type of the transaction performed. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="gga171384e518db04097e0f3e6750129a2aa6a3bd46a641c9be6b1495c66c69a115f" name="gga171384e518db04097e0f3e6750129a2aa6a3bd46a641c9be6b1495c66c69a115f"></a>TXN_READONLY&#160;</td><td class="fielddoc"><p>Read-only transaction. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga171384e518db04097e0f3e6750129a2aaf9d6521627af7fdb507be74adbbade50" name="gga171384e518db04097e0f3e6750129a2aaf9d6521627af7fdb507be74adbbade50"></a>TXN_READWRITE&#160;</td><td class="fielddoc"><p>Read-write transaction. </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga5a00a4ac7ffcc3e344961b597c5b5fe9" name="ga5a00a4ac7ffcc3e344961b597c5b5fe9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5a00a4ac7ffcc3e344961b597c5b5fe9">&#9670;&#160;</a></span>os_sys_txn_commit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int os_sys_txn_commit </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__os__txn.html#gac01e3878510de719773a39e4333a84f4">Txn_t</a> *&#160;</td>
          <td class="paramname"><em>domain</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__os__txn.html#gac01e3878510de719773a39e4333a84f4">Txn_t</a>&#160;</td>
          <td class="paramname"><em>txn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="group__os__txn.html#ga171384e518db04097e0f3e6750129a2a">TxnType</a>&#160;</td>
          <td class="paramname"><em>type</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Implementation of txn_commit syscall. </p>
<p>This function performs some additional argument checking. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">domain</td><td>domain in which transactions are allocated </td></tr>
    <tr><td class="paramname">txn</td><td>identifier of transaction to be committed </td></tr>
    <tr><td class="paramname">type</td><td>identifies if transaction is read-only or read-write </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>E_OK if transaction was committed. E_INVALID if transaction cannot be applied as different transaction has been committed meanwhile. </dd></dl>

</div>
</div>
<a id="ga850d4412f59410f1e27fe0f1541e807e" name="ga850d4412f59410f1e27fe0f1541e807e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga850d4412f59410f1e27fe0f1541e807e">&#9670;&#160;</a></span>os_sys_txn_start()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__os__txn.html#gac01e3878510de719773a39e4333a84f4">Txn_t</a> os_sys_txn_start </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__os__txn.html#gac01e3878510de719773a39e4333a84f4">Txn_t</a> *&#160;</td>
          <td class="paramname"><em>domain</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Implementation of txn_start syscall. </p>
<p>This function performs some additional argument checking. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">domain</td><td>domain in which transactions are allocated </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>transaction identifier within given domain </dd></dl>

</div>
</div>
<a id="gacbfa20536e7c7fc317d57022ee00d471" name="gacbfa20536e7c7fc317d57022ee00d471"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gacbfa20536e7c7fc317d57022ee00d471">&#9670;&#160;</a></span>os_txn_commit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int os_txn_commit </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__os__txn.html#gac01e3878510de719773a39e4333a84f4">Txn_t</a>&#160;</td>
          <td class="paramname"><em>transaction</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="group__os__txn.html#ga171384e518db04097e0f3e6750129a2a">TxnType</a>&#160;</td>
          <td class="paramname"><em>type</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Try to commit the transaction. </p>
<p>This function will try to enter the critical section so that the code running afterwards has exclusive access to the shared resource. If another transaction has been commited meanwhile, then this call will fail as transaction couldn't be commited. Then the critical section is left immediately. If no other transaction conflicted with this one, the code remains in the critical section and can modify the shared context. After the code is done with modifying the shared context, it <em>must</em> call <a class="el" href="group__os__txn.html#gaa354e7db359322579bfccad91f3c2e69">os_txn_done</a> which will leave the critical section. No modification of the shared context is allowed outside of the critical section. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">transaction</td><td>the ID of transaction as obtained by the call to ox_txn_start() </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">type</td><td>the type of transaction </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>E_OK if transaction can be commited </dd>
<dd>
E_INVALID if transaction cannot be applied as different transaction has been commited meanwhile. </dd></dl>

</div>
</div>
<a id="gaa354e7db359322579bfccad91f3c2e69" name="gaa354e7db359322579bfccad91f3c2e69"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa354e7db359322579bfccad91f3c2e69">&#9670;&#160;</a></span>os_txn_done()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void os_txn_done </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Finish the transaction commit. </p>
<p>This function will leave the critical section related to the transaction. This function has to be called for read-write transaction after all the data changes in the transaction were commited. </p>

</div>
</div>
<a id="ga8416fe8f7bf2e1c73fb3a3c6aabbcf3a" name="ga8416fe8f7bf2e1c73fb3a3c6aabbcf3a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8416fe8f7bf2e1c73fb3a3c6aabbcf3a">&#9670;&#160;</a></span>os_txn_start()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__os__txn.html#gac01e3878510de719773a39e4333a84f4">Txn_t</a> os_txn_start </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Start a transaction. </p>
<p>This function will start a transaction. Starting a transaction means that the code will remember actual record version number (active rolling counter value). rolling counters are updated whenever read-write transaction is commited. </p><dl class="section note"><dt>Note</dt><dd>It is perfectly valid to start transaction and not commit it. This effectively equals to voluntarily aborting the transaction. Such abandonned transactions pose no overhead nor stall / corruption risk. </dd></dl>
<dl class="section return"><dt>Returns</dt><dd>transaction ID </dd></dl>

</div>
</div>
<a id="ga5cb7bbbf62304874468aa30d15bb8f1e" name="ga5cb7bbbf62304874468aa30d15bb8f1e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5cb7bbbf62304874468aa30d15bb8f1e">&#9670;&#160;</a></span>os_txn_start_commit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int os_txn_start_commit </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Start new transaction and commit it immediately. </p>
<p>This is a combination of <a class="el" href="group__os__txn.html#ga8416fe8f7bf2e1c73fb3a3c6aabbcf3a">os_txn_start</a> and <a class="el" href="group__os__txn.html#gacbfa20536e7c7fc317d57022ee00d471">os_txn_commit</a> for special cases where there is no intermediate computation needed. This is for cases, such as freeing memory, releasing handles, etc. In these cases no search for free entry or any similar action has to be done. Just a known-in-advance entry is freed and this change needs to be transacted. It will start new transaction and immediately commit it. As this is done atomically, the commit never fails. This function always returns E_OK, which means that the code is in commit mode, may change shared data and must call <a class="el" href="group__os__txn.html#gaa354e7db359322579bfccad91f3c2e69">os_txn_done</a> when all changes are written. </p><dl class="section return"><dt>Returns</dt><dd>E_OK as this action never fails. </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.9.7-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</div>
</body>
</html>
