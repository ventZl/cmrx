<!-- HTML header for doxygen 1.9.7-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>C Microkernel Realtime eXecutive: Cortex-M support routines</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="stylesheet.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="all">
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">C Microkernel Realtime eXecutive
   </div>
   <div id="projectbrief">Realtime Operating System for Cortex-M based microcontrollers</div>
  </td>
    <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('group__arch__arm__cortex.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">Cortex-M support routines<div class="ingroups"><a class="el" href="group__os.html">Kernel documentation</a> &raquo; <a class="el" href="group__arch.html">Architecture support</a> &raquo; <a class="el" href="group__arch__arm.html">ARM port</a></div></div></div>
</div><!--header-->
<div class="contents">

<p>Routines supporting access to Cortex-M core facilities.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structExceptionFrame.html">ExceptionFrame</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Exception frame <em>without</em> FPU context saved.  <a href="structExceptionFrame.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:gaa1dec568e79152c892dcf63f445cbd7a" id="r_gaa1dec568e79152c892dcf63f445cbd7a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__arch__arm__cortex.html#gaa1dec568e79152c892dcf63f445cbd7a">ALWAYS_INLINE</a>&#160;&#160;&#160;__STATIC_FORCEINLINE</td></tr>
<tr class="separator:gaa1dec568e79152c892dcf63f445cbd7a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacf4dbaf7327b08d6a31c584b1aa200b8" id="r_gacf4dbaf7327b08d6a31c584b1aa200b8"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__arch__arm__cortex.html#gacf4dbaf7327b08d6a31c584b1aa200b8">EXCEPTION_FRAME_SIZE</a>&#160;&#160;&#160;8</td></tr>
<tr class="separator:gacf4dbaf7327b08d6a31c584b1aa200b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gabe1c8e0b0ce8425aa5eaadc6c7715a86" id="r_gabe1c8e0b0ce8425aa5eaadc6c7715a86"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__arch__arm__cortex.html#gaa1dec568e79152c892dcf63f445cbd7a">ALWAYS_INLINE</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__arch__arm__cortex.html#gabe1c8e0b0ce8425aa5eaadc6c7715a86">__ISR_return</a> ()</td></tr>
<tr class="memdesc:gabe1c8e0b0ce8425aa5eaadc6c7715a86"><td class="mdescLeft">&#160;</td><td class="mdescRight">Perform same actions as normal ISR return does.  <br /></td></tr>
<tr class="separator:gabe1c8e0b0ce8425aa5eaadc6c7715a86"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac7d319ef3237c279150083fe5944dc19" id="r_gac7d319ef3237c279150083fe5944dc19"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__arch__arm__cortex.html#gaa1dec568e79152c892dcf63f445cbd7a">ALWAYS_INLINE</a> void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__arch__arm__cortex.html#gac7d319ef3237c279150083fe5944dc19">save_context</a> ()</td></tr>
<tr class="memdesc:gac7d319ef3237c279150083fe5944dc19"><td class="mdescLeft">&#160;</td><td class="mdescRight">Save application context.  <br /></td></tr>
<tr class="separator:gac7d319ef3237c279150083fe5944dc19"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf3f11bf6495679261169947a65655d16" id="r_gaf3f11bf6495679261169947a65655d16"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__arch__arm__cortex.html#gaa1dec568e79152c892dcf63f445cbd7a">ALWAYS_INLINE</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__arch__arm__cortex.html#gaf3f11bf6495679261169947a65655d16">load_context</a> (uint32_t *sp)</td></tr>
<tr class="memdesc:gaf3f11bf6495679261169947a65655d16"><td class="mdescLeft">&#160;</td><td class="mdescRight">Load application context saved by save_context from address sp.  <br /></td></tr>
<tr class="separator:gaf3f11bf6495679261169947a65655d16"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gabb8ca1a0c49221cc753e1621f5029911" id="r_gabb8ca1a0c49221cc753e1621f5029911"><td class="memItemLeft" align="right" valign="top">static uint32_t *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__arch__arm__cortex.html#gabb8ca1a0c49221cc753e1621f5029911">get_exception_arg_addr</a> (<a class="el" href="structExceptionFrame.html">ExceptionFrame</a> *frame, unsigned argno)</td></tr>
<tr class="memdesc:gabb8ca1a0c49221cc753e1621f5029911"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve address of n-th argument from exception frame.  <br /></td></tr>
<tr class="separator:gabb8ca1a0c49221cc753e1621f5029911"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga11970c0e7d4b51785f808c8961d09fca" id="r_ga11970c0e7d4b51785f808c8961d09fca"><td class="memItemLeft" align="right" valign="top">static unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__arch__arm__cortex.html#ga11970c0e7d4b51785f808c8961d09fca">get_exception_argument</a> (<a class="el" href="structExceptionFrame.html">ExceptionFrame</a> *frame, unsigned argno)</td></tr>
<tr class="memdesc:ga11970c0e7d4b51785f808c8961d09fca"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve value of exception frame function call argument.  <br /></td></tr>
<tr class="separator:ga11970c0e7d4b51785f808c8961d09fca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaff50eeff9c1a2b472601ba02a2df18c0" id="r_gaff50eeff9c1a2b472601ba02a2df18c0"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__arch__arm__cortex.html#gaff50eeff9c1a2b472601ba02a2df18c0">set_exception_argument</a> (<a class="el" href="structExceptionFrame.html">ExceptionFrame</a> *frame, unsigned argno, unsigned value)</td></tr>
<tr class="memdesc:gaff50eeff9c1a2b472601ba02a2df18c0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set value of exception frame function call argument.  <br /></td></tr>
<tr class="separator:gaff50eeff9c1a2b472601ba02a2df18c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6b94f1ef1a111a0eb556641698104808" id="r_ga6b94f1ef1a111a0eb556641698104808"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__arch__arm__cortex.html#ga6b94f1ef1a111a0eb556641698104808">set_exception_pc_lr</a> (<a class="el" href="structExceptionFrame.html">ExceptionFrame</a> *frame, void *pc, void *lr)</td></tr>
<tr class="memdesc:ga6b94f1ef1a111a0eb556641698104808"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configure PC and LR register values in exception frame.  <br /></td></tr>
<tr class="separator:ga6b94f1ef1a111a0eb556641698104808"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2c8bf166b828e4a26c74bc974774510f" id="r_ga2c8bf166b828e4a26c74bc974774510f"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="structExceptionFrame.html">ExceptionFrame</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__arch__arm__cortex.html#ga2c8bf166b828e4a26c74bc974774510f">push_exception_frame</a> (<a class="el" href="structExceptionFrame.html">ExceptionFrame</a> *frame, unsigned args)</td></tr>
<tr class="memdesc:ga2c8bf166b828e4a26c74bc974774510f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Duplicate exception frame on thread's stack.  <br /></td></tr>
<tr class="separator:ga2c8bf166b828e4a26c74bc974774510f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad1633eddf5be0af585ff323da784c80c" id="r_gad1633eddf5be0af585ff323da784c80c"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="structExceptionFrame.html">ExceptionFrame</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__arch__arm__cortex.html#gad1633eddf5be0af585ff323da784c80c">shim_exception_frame</a> (<a class="el" href="structExceptionFrame.html">ExceptionFrame</a> *frame, unsigned args)</td></tr>
<tr class="memdesc:gad1633eddf5be0af585ff323da784c80c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates space for additional arguments under exception frame.  <br /></td></tr>
<tr class="separator:gad1633eddf5be0af585ff323da784c80c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0deb287bdcb87be51cdb7440df6ad7e5" id="r_ga0deb287bdcb87be51cdb7440df6ad7e5"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="structExceptionFrame.html">ExceptionFrame</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__arch__arm__cortex.html#ga0deb287bdcb87be51cdb7440df6ad7e5">pop_exception_frame</a> (<a class="el" href="structExceptionFrame.html">ExceptionFrame</a> *frame, unsigned args)</td></tr>
<tr class="memdesc:ga0deb287bdcb87be51cdb7440df6ad7e5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove exception frame from thread's stack.  <br /></td></tr>
<tr class="separator:ga0deb287bdcb87be51cdb7440df6ad7e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad2e17ebf5c6096d178a9816f7339703d" id="r_gad2e17ebf5c6096d178a9816f7339703d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__arch__arm__cortex.html#gaa1dec568e79152c892dcf63f445cbd7a">ALWAYS_INLINE</a> void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__arch__arm__cortex.html#gad2e17ebf5c6096d178a9816f7339703d">__get_LR</a> (void)</td></tr>
<tr class="memdesc:gad2e17ebf5c6096d178a9816f7339703d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get value of process LR.  <br /></td></tr>
<tr class="separator:gad2e17ebf5c6096d178a9816f7339703d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Routines supporting access to Cortex-M core facilities. </p>
<p>These routines allow kernel to perform some cricital tasks that the architecture support layer needs to be able to execute in order to support CMRX on Cortex-M. </p>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="gaa1dec568e79152c892dcf63f445cbd7a" name="gaa1dec568e79152c892dcf63f445cbd7a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa1dec568e79152c892dcf63f445cbd7a">&#9670;&#160;</a></span>ALWAYS_INLINE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ALWAYS_INLINE&#160;&#160;&#160;__STATIC_FORCEINLINE</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="gacf4dbaf7327b08d6a31c584b1aa200b8" name="gacf4dbaf7327b08d6a31c584b1aa200b8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gacf4dbaf7327b08d6a31c584b1aa200b8">&#9670;&#160;</a></span>EXCEPTION_FRAME_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EXCEPTION_FRAME_SIZE&#160;&#160;&#160;8</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="gad2e17ebf5c6096d178a9816f7339703d" name="gad2e17ebf5c6096d178a9816f7339703d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad2e17ebf5c6096d178a9816f7339703d">&#9670;&#160;</a></span>__get_LR()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__arch__arm__cortex.html#gaa1dec568e79152c892dcf63f445cbd7a">ALWAYS_INLINE</a> void * __get_LR </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get value of process LR. </p>
<dl class="section return"><dt>Returns</dt><dd>top of application stack </dd></dl>

</div>
</div>
<a id="gabe1c8e0b0ce8425aa5eaadc6c7715a86" name="gabe1c8e0b0ce8425aa5eaadc6c7715a86"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gabe1c8e0b0ce8425aa5eaadc6c7715a86">&#9670;&#160;</a></span>__ISR_return()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__arch__arm__cortex.html#gaa1dec568e79152c892dcf63f445cbd7a">ALWAYS_INLINE</a> void __ISR_return </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Perform same actions as normal ISR return does. </p>
<p>When ISR performs return, then Cortex-M core does some specific steps to exit the ISR and return into thread whose execution has been interrupted. The ISR frame stored in thread stack is loaded back into registers. Perform the same steps. </p>

</div>
</div>
<a id="gabb8ca1a0c49221cc753e1621f5029911" name="gabb8ca1a0c49221cc753e1621f5029911"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gabb8ca1a0c49221cc753e1621f5029911">&#9670;&#160;</a></span>get_exception_arg_addr()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static uint32_t * get_exception_arg_addr </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structExceptionFrame.html">ExceptionFrame</a> *&#160;</td>
          <td class="paramname"><em>frame</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>argno</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Retrieve address of n-th argument from exception frame. </p>
<p>This function calculates address of n-th argument of function call from exception frame. This is used whenever it is known, that exception frame was stored as an effect of <a class="el" href="group__os__syscall.html#ga7b1388f7bd14b83bd3f8f773fbf3375b" title="Perform syscall.">__SVC()</a> call. It will automatically handle exception frame padding. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">frame</td><td>exception frame base address (usually value of SP) </td></tr>
    <tr><td class="paramname">argno</td><td>number of argument retrieved </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>address of argument relative to exception frame </dd></dl>

</div>
</div>
<a id="ga11970c0e7d4b51785f808c8961d09fca" name="ga11970c0e7d4b51785f808c8961d09fca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga11970c0e7d4b51785f808c8961d09fca">&#9670;&#160;</a></span>get_exception_argument()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static unsigned get_exception_argument </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structExceptionFrame.html">ExceptionFrame</a> *&#160;</td>
          <td class="paramname"><em>frame</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>argno</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Retrieve value of exception frame function call argument. </p>
<p>Retrieves value of n-th argument of function call calling <a class="el" href="group__os__syscall.html#ga7b1388f7bd14b83bd3f8f773fbf3375b" title="Perform syscall.">__SVC()</a> </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">frame</td><td>exception frame base address </td></tr>
    <tr><td class="paramname">argno</td><td>number of argument retrieved </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>value of function argument </dd></dl>

</div>
</div>
<a id="gaf3f11bf6495679261169947a65655d16" name="gaf3f11bf6495679261169947a65655d16"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf3f11bf6495679261169947a65655d16">&#9670;&#160;</a></span>load_context()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__arch__arm__cortex.html#gaa1dec568e79152c892dcf63f445cbd7a">ALWAYS_INLINE</a> void load_context </td>
          <td>(</td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>sp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Load application context saved by save_context from address sp. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sp</td><td>address where top of the stack containing application context is </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga0deb287bdcb87be51cdb7440df6ad7e5" name="ga0deb287bdcb87be51cdb7440df6ad7e5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga0deb287bdcb87be51cdb7440df6ad7e5">&#9670;&#160;</a></span>pop_exception_frame()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="structExceptionFrame.html">ExceptionFrame</a> * pop_exception_frame </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structExceptionFrame.html">ExceptionFrame</a> *&#160;</td>
          <td class="paramname"><em>frame</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>args</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Remove exception frame from thread's stack. </p>
<p>This function will revert effects of calling <a class="el" href="group__arch__arm__cortex.html#ga2c8bf166b828e4a26c74bc974774510f">push_exception_frame</a>. It will handle frame padding automatically. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">frame</td><td>exception frame base address </td></tr>
    <tr><td class="paramname">args</td><td>number of function arguments passed onto stack (function args - 4) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>new address of stack top after frame has been removed from it </dd></dl>

</div>
</div>
<a id="ga2c8bf166b828e4a26c74bc974774510f" name="ga2c8bf166b828e4a26c74bc974774510f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2c8bf166b828e4a26c74bc974774510f">&#9670;&#160;</a></span>push_exception_frame()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="structExceptionFrame.html">ExceptionFrame</a> * push_exception_frame </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structExceptionFrame.html">ExceptionFrame</a> *&#160;</td>
          <td class="paramname"><em>frame</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>args</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Duplicate exception frame on thread's stack. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">frame</td><td>pointer of frame currently residing on top of process' stack </td></tr>
    <tr><td class="paramname">args</td><td>amount of arguments pushed onto stack (first four come into R0-R3, fifth and following are pushed onto stack) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>address of duplicated exception frame </dd></dl>

</div>
</div>
<a id="gac7d319ef3237c279150083fe5944dc19" name="gac7d319ef3237c279150083fe5944dc19"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac7d319ef3237c279150083fe5944dc19">&#9670;&#160;</a></span>save_context()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__arch__arm__cortex.html#gaa1dec568e79152c892dcf63f445cbd7a">ALWAYS_INLINE</a> void * save_context </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Save application context. </p>
<p>This function will grab process SP This operation will claim 32 bytes (8 registers * 4 bytes) on stack. </p><dl class="section return"><dt>Returns</dt><dd>top of application stack after application context was saved </dd></dl>

</div>
</div>
<a id="gaff50eeff9c1a2b472601ba02a2df18c0" name="gaff50eeff9c1a2b472601ba02a2df18c0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaff50eeff9c1a2b472601ba02a2df18c0">&#9670;&#160;</a></span>set_exception_argument()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void set_exception_argument </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structExceptionFrame.html">ExceptionFrame</a> *&#160;</td>
          <td class="paramname"><em>frame</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>argno</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set value of exception frame function call argument. </p>
<p>Sets value of n-th argument in exception frame. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">frame</td><td>exception frame base address </td></tr>
    <tr><td class="paramname">argno</td><td>number of argument retrieved </td></tr>
    <tr><td class="paramname">value</td><td>new value of function argument </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga6b94f1ef1a111a0eb556641698104808" name="ga6b94f1ef1a111a0eb556641698104808"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6b94f1ef1a111a0eb556641698104808">&#9670;&#160;</a></span>set_exception_pc_lr()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void set_exception_pc_lr </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structExceptionFrame.html">ExceptionFrame</a> *&#160;</td>
          <td class="paramname"><em>frame</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>pc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>lr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Configure PC and LR register values in exception frame. </p>
<p>This function sets values for PC and LR upon usage of given exception frame. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">frame</td><td>exception frame base address </td></tr>
    <tr><td class="paramname">pc</td><td>new value for PC register in exception frame </td></tr>
    <tr><td class="paramname">lr</td><td>new value for LR register in exception frame </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gad1633eddf5be0af585ff323da784c80c" name="gad1633eddf5be0af585ff323da784c80c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad1633eddf5be0af585ff323da784c80c">&#9670;&#160;</a></span>shim_exception_frame()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="structExceptionFrame.html">ExceptionFrame</a> * shim_exception_frame </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structExceptionFrame.html">ExceptionFrame</a> *&#160;</td>
          <td class="paramname"><em>frame</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>args</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Creates space for additional arguments under exception frame. </p>
<p>This function will move exception frame content args * 4 bytes lower. If resulting address won't be 8-byt aligned, then additional alignment is applied to it. Content of exception frame is copied automatically. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">frame</td><td>address of exception frame in memory </td></tr>
    <tr><td class="paramname">args</td><td>amount of additional arguments for which space should be created under exception frame </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>address of shimmed exception frame. </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.9.7-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</div>
</body>
</html>
